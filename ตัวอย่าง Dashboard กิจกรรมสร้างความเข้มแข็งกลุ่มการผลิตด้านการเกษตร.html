<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard ‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏á‡∏≤‡∏ô (Web Version)</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- Chart.js Data Labels Plugin -->
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@2.0.0"></script>
    <!-- Google Fonts: Sarabun -->
    <link href="https://fonts.googleapis.com/css2?family=Sarabun:wght@400;600;700&display=swap" rel="stylesheet">

    <style>
        body {
            font-family: 'Sarabun', sans-serif;
            background-color: #f3f4f6;
            color: #1f2937;
        }
        .card {
            background-color: white;
            border-radius: 16px;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            padding: 24px;
            height: 100%;
            display: flex;
            flex-direction: column;
        }
        .chart-container-large {
            position: relative;
            flex-grow: 1;
            min-height: 300px;
            width: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        .chart-container-wide {
            position: relative;
            height: 600px; /* ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏π‡∏á‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏ä‡∏∑‡πà‡∏≠‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡∏Ç‡∏ô‡∏≤‡∏î‡πÉ‡∏´‡∏ç‡πà‡πÑ‡∏°‡πà‡πÄ‡∏ö‡∏µ‡∏¢‡∏î‡∏Å‡∏±‡∏ô */
            width: 100%;
        }
        /* ‡∏Å‡∏•‡∏±‡∏ö‡∏°‡∏≤‡πÉ‡∏ä‡πâ‡∏Ç‡∏ô‡∏≤‡∏î‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠‡∏°‡∏≤‡∏ï‡∏£‡∏ê‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏î‡∏π‡∏™‡∏ö‡∏≤‡∏¢‡∏ï‡∏≤ */
        h1 { font-size: 1.875rem; font-weight: 700; color: #312e81; margin-bottom: 0.5rem; }
        h2 { font-size: 1.5rem; font-weight: 600; color: #4338ca; }
    </style>
</head>
<body class="p-6">

    <!-- Header -->
    <div class="max-w-7xl mx-auto mb-8 text-center">
        <h1>‡πÇ‡∏Ñ‡∏£‡∏á‡∏Å‡∏≤‡∏£‡∏™‡πà‡∏á‡πÄ‡∏™‡∏£‡∏¥‡∏°‡πÅ‡∏•‡∏∞‡∏û‡∏±‡∏í‡∏ô‡∏≤‡πÄ‡∏Å‡∏©‡∏ï‡∏£‡∏Å‡∏£‡πÅ‡∏•‡∏∞‡∏≠‡∏á‡∏Ñ‡πå‡∏Å‡∏£‡πÄ‡∏Å‡∏©‡∏ï‡∏£‡∏Å‡∏£</h1>
        <h2 class="text-indigo-700">‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏Ç‡πâ‡∏°‡πÅ‡∏Ç‡πá‡∏á‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏Å‡∏≤‡∏£‡∏ú‡∏•‡∏¥‡∏ï‡∏î‡πâ‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏Å‡∏©‡∏ï‡∏£</h2>
    </div>

    <div class="max-w-7xl mx-auto space-y-6">
        
        <!-- Row 1: Layout (Left Big, Right Small) -->
        <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
            
            <!-- Chart 2: Overall Performance (‡∏ã‡πâ‡∏≤‡∏¢ - ‡πÉ‡∏´‡∏ç‡πà 2 ‡∏™‡πà‡∏ß‡∏ô) -->
            <div class="card border-l-8 border-blue-800 lg:col-span-2">
                <div class="flex justify-between items-start mb-4">
                    <h3 class="text-xl font-bold flex items-center text-gray-800">
                        <span class="bg-blue-100 text-blue-800 p-2 rounded-full mr-3">üìä</span> 
                        ‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏á‡∏≤‡∏ô
                    </h3>
                    <span class="text-sm font-normal bg-gray-100 px-3 py-1 rounded-full text-gray-600 font-bold">‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢‡∏£‡∏ß‡∏° 10,395 ‡∏£‡∏≤‡∏¢</span>
                </div>
                <div class="chart-container-large">
                    <canvas id="overallChart"></canvas>
                </div>
                 <div class="mt-4 text-center">
                    <p class="text-lg font-bold text-gray-700">
                        ‡∏ú‡∏•‡∏á‡∏≤‡∏ô‡∏™‡∏∞‡∏™‡∏°: <span class="text-blue-800">3,146</span> ‡∏£‡∏≤‡∏¢ (30.30%)
                    </p>
                </div>
            </div>

            <!-- Chart 1: Budget Status (‡∏Ç‡∏ß‡∏≤ - ‡πÄ‡∏•‡πá‡∏Å 1 ‡∏™‡πà‡∏ß‡∏ô) -->
            <div class="card border-l-8 border-orange-500">
                <div class="flex flex-col justify-between items-start mb-4">
                    <h3 class="text-xl font-bold flex items-center text-gray-800 mb-2">
                        <span class="bg-orange-100 text-orange-800 p-2 rounded-full mr-3">üí∞</span> 
                        ‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡πÄ‡∏ö‡∏¥‡∏Å‡∏à‡πà‡∏≤‡∏¢
                    </h3>
                    <span class="text-sm font-normal text-gray-500">‡∏á‡∏ö‡∏£‡∏ß‡∏° 29,725,600.00 ‡∏ö‡∏≤‡∏ó</span>
                </div>
                <div class="chart-container-large">
                    <canvas id="budgetChart"></canvas>
                </div>
                <div class="mt-4 text-center">
                    <p class="text-lg font-bold text-gray-700">
                        ‡πÄ‡∏ö‡∏¥‡∏Å‡∏à‡πà‡∏≤‡∏¢‡πÅ‡∏•‡πâ‡∏ß: <span class="text-orange-600">5,979,745.77</span> ‡∏ö‡∏≤‡∏ó
                    </p>
                </div>
            </div>

        </div>

        <!-- Row 2: Detailed Activities -->
        <div class="card border-t-8 border-green-700">
            <div class="flex flex-col md:flex-row justify-between items-start md:items-center mb-6">
                <div>
                    <h3 class="text-2xl font-bold text-green-900 flex items-center mb-2">
                        <span class="bg-green-100 text-green-800 p-2 rounded-full mr-3">‚úÖ</span>
                        ‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏á‡∏≤‡∏ô‡∏£‡∏≤‡∏¢‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏° (8 ‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°)
                    </h3>
                    <p class="text-red-600 font-bold ml-0 md:ml-14 text-sm md:text-base flex items-center">
                        <span class="mr-2">‚ö†Ô∏è</span>
                        ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡∏¥‡πâ‡∏ô‡∏Å‡∏≤‡∏£‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏á‡∏≤‡∏ô: ‡πÑ‡∏ï‡∏£‡∏°‡∏≤‡∏™ 2 (‡∏°‡∏µ‡∏ô‡∏≤‡∏Ñ‡∏° 2569)
                    </p>
                </div>
                <span class="text-sm text-gray-500 bg-gray-100 px-3 py-1 rounded-lg mt-3 md:mt-0 self-start md:self-auto font-bold">‡∏´‡∏ô‡πà‡∏ß‡∏¢: ‡∏£‡∏≤‡∏¢</span>
            </div>
            
            <div class="chart-container-wide">
                <canvas id="activitiesChart"></canvas>
            </div>
            <div class="mt-4 text-center text-sm text-gray-500">
                * ‡∏Å‡∏£‡∏≤‡∏ü‡πÅ‡∏™‡∏î‡∏á‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö ‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢ (‡∏™‡∏µ‡πÄ‡∏ó‡∏≤) ‡πÅ‡∏•‡∏∞ ‡∏ú‡∏•‡∏á‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏ó‡∏≥‡πÑ‡∏î‡πâ‡∏à‡∏£‡∏¥‡∏á (‡∏™‡∏µ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß) ‡∏Ç‡∏≠‡∏á‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°
            </div>
        </div>

    </div>

    <script>
        // Register Plugin
        Chart.register(ChartDataLabels);
        Chart.defaults.font.family = "'Sarabun', sans-serif";
        Chart.defaults.color = '#333';

        // 1. Budget Data
        const budgetTotal = 29725600.00;
        const budgetUsed = 5979745.77;
        new Chart(document.getElementById('budgetChart'), {
            type: 'doughnut',
            data: {
                labels: ['‡πÄ‡∏ö‡∏¥‡∏Å‡∏à‡πà‡∏≤‡∏¢‡πÅ‡∏•‡πâ‡∏ß', '‡∏á‡∏ö‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì‡∏Ñ‡∏á‡πÄ‡∏´‡∏•‡∏∑‡∏≠'],
                datasets: [{
                    data: [budgetUsed, budgetTotal - budgetUsed],
                    backgroundColor: ['#e65100', '#ffcc80'],
                    borderColor: '#fff',
                    borderWidth: 2
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                cutout: '60%',
                plugins: {
                    legend: {
                        position: 'bottom',
                        labels: { font: { size: 12 }, padding: 15 }
                    },
                    datalabels: {
                        color: (context) => context.dataIndex === 0 ? '#fff' : '#374151',
                        font: { weight: 'bold', size: 14 },
                        formatter: (value) => (value * 100 / budgetTotal).toFixed(2) + "%"
                    },
                    tooltip: {
                        callbacks: {
                            label: (context) => ' ' + context.label + ': ' + context.raw.toLocaleString(undefined, {minimumFractionDigits: 2}) + ' ‡∏ö‡∏≤‡∏ó'
                        }
                    }
                }
            }
        });

        // 2. Overall Performance Data
        new Chart(document.getElementById('overallChart'), {
            type: 'bar',
            data: {
                labels: ['‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢‡∏£‡∏ß‡∏°', '‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏á‡∏≤‡∏ô'],
                datasets: [{
                    data: [10395, 3146],
                    backgroundColor: ['#cfd8dc', '#1565c0'],
                    barPercentage: 0.6,
                    borderRadius: 4
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    y: {
                        beginAtZero: true,
                        max: 12000,
                        grid: { color: '#e5e7eb' },
                        ticks: { font: { size: 14 } }
                    },
                    x: { ticks: { font: { size: 16, weight: 'bold' } } }
                },
                plugins: {
                    legend: { display: false },
                    datalabels: {
                        anchor: 'end',
                        align: 'top',
                        color: '#333',
                        font: { weight: 'bold', size: 18 },
                        formatter: (value, ctx) => ctx.dataIndex === 1 ? `${value.toLocaleString()}\n(30.30%)` : value.toLocaleString()
                    }
                }
            }
        });

        // 3. Activities Data
        const activities = [
            "1. ‡∏≠‡∏ö‡∏£‡∏°‡πÄ‡∏Å‡∏©‡∏ï‡∏£",
            "2. ‡∏≠‡∏ö‡∏£‡∏°‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏™‡πà‡∏á‡πÄ‡∏™‡∏£‡∏¥‡∏°‡∏≠‡∏≤‡∏ä‡∏µ‡∏û‡∏Å‡∏≤‡∏£‡πÄ‡∏Å‡∏©‡∏ï‡∏£",
            "3. ‡∏û‡∏±‡∏í‡∏ô‡∏≤‡∏®‡∏±‡∏Å‡∏¢‡∏†‡∏≤‡∏û‡∏Å‡∏•‡∏∏‡πà‡∏°‡πÅ‡∏°‡πà‡∏ö‡πâ‡∏≤‡∏ô‡∏Ø ‡∏™‡∏π‡πà Smart Farmer",
            "4. ‡∏û‡∏±‡∏í‡∏ô‡∏≤‡∏®‡∏±‡∏Å‡∏¢‡∏†‡∏≤‡∏û‡∏Å‡∏•‡∏∏‡πà‡∏°‡πÅ‡∏°‡πà‡∏ö‡πâ‡∏≤‡∏ô‡∏Ø ‡∏™‡∏π‡πà‡∏ú‡∏π‡πâ‡∏õ‡∏£‡∏∞‡∏Å‡∏≠‡∏ö‡∏Å‡∏≤‡∏£",
            "5. ‡∏à‡∏±‡∏î‡∏Å‡∏£‡∏∞‡∏ö‡∏ß‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏°‡∏±‡πà‡∏ô‡∏Ñ‡∏á‡∏≠‡∏≤‡∏´‡∏≤‡∏£",
            "6. ‡∏≠‡∏ö‡∏£‡∏°‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏¢‡∏∏‡∏ß‡πÄ‡∏Å‡∏©‡∏ï‡∏£‡∏Å‡∏£",
            "7. ‡∏à‡∏±‡∏î‡∏Å‡∏£‡∏∞‡∏ö‡∏ß‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ Smart Group Model",
            "8. ‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡∏Ñ‡∏ß‡∏≤‡∏°‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏™‡∏±‡∏á‡∏Ñ‡∏°‡πÄ‡∏Å‡∏©‡∏ï‡∏£‡∏™‡∏π‡∏á‡∏ß‡∏±‡∏¢"
        ];
        const targetData = [1155, 1155, 1155, 1155, 1155, 2310, 1155, 1155]; 
        const resultData = [690, 383, 675, 420, 720, 1455, 692, 720]; 

        new Chart(document.getElementById('activitiesChart'), {
            type: 'bar',
            data: {
                labels: activities,
                datasets: [
                    {
                        label: '‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢ (Target)',
                        data: targetData,
                        backgroundColor: '#e0e0e0',
                        hoverBackgroundColor: '#bdbdbd',
                        barPercentage: 0.7,
                        categoryPercentage: 0.8
                    },
                    {
                        label: '‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏á‡∏≤‡∏ô (Result)',
                        data: resultData,
                        backgroundColor: '#2e7d32',
                        hoverBackgroundColor: '#1b5e20',
                        barPercentage: 0.7,
                        categoryPercentage: 0.8
                    }
                ]
            },
            options: {
                indexAxis: 'y',
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    x: { display: false },
                    y: {
                        ticks: {
                            font: { size: 18, weight: 'bold' }, // ‡∏ä‡∏∑‡πà‡∏≠‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡πÉ‡∏´‡∏ç‡πà‡∏Ç‡∏∂‡πâ‡∏ô‡∏ï‡∏≤‡∏°‡∏ó‡∏µ‡πà‡∏Ç‡∏≠
                            color: '#111827',
                            autoSkip: false,
                        },
                        grid: { display: false }
                    }
                },
                plugins: {
                    legend: { 
                        position: 'top', 
                        align: 'end', 
                        labels: { 
                            font: { size: 16, weight: 'bold' }, // Legend ‡πÉ‡∏´‡∏ç‡πà‡∏Ç‡∏∂‡πâ‡∏ô‡∏ï‡∏≤‡∏°‡∏ó‡∏µ‡πà‡∏Ç‡∏≠
                            usePointStyle: true 
                        } 
                    },
                    tooltip: {
                        callbacks: { label: (context) => context.dataset.label + ': ' + context.raw.toLocaleString() + ' ‡∏£‡∏≤‡∏¢' }
                    },
                    datalabels: {
                        anchor: 'end',
                        align: 'end',
                        offset: 4,
                        color: '#000',
                        font: { weight: 'bold', size: 13 },
                        formatter: function(value, context) {
                            if (context.datasetIndex === 1) { // Result
                                let target = targetData[context.dataIndex];
                                let percent = ((value / target) * 100).toFixed(0);
                                return `‡∏ú‡∏•: ${value.toLocaleString()} (${percent}%)`;
                            } 
                            return `‡πÄ‡∏õ‡πâ‡∏≤: ${value.toLocaleString()}`; // Target
                        }
                    }
                },
                layout: {
                    padding: { right: 100 }
                }
            }
        });
    </script>
</body>
</html>